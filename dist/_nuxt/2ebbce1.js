(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{439:function(e,t,o){},458:function(e,t,o){},481:function(e,t,o){"use strict";o(458)},501:function(e,t,o){"use strict";o.r(t);var l,n=o(64),r=o(8),c=o(5),d=(o(269),o(6),o(63)),m=o.n(d),v=(o(186),o(72)),f=o.n(v),h=(o(270),o(104)),_=o.n(h),L=(o(271),o(139)),S=o.n(L),P=(o(272),o(70)),k=o.n(P),y=(o(273),o(140)),w=o.n(y),C=(o(274),o(141)),O=o.n(C),x=(o(275),o(142)),T=o.n(x),R=(o(276),o(143)),N=o.n(R),A=(o(277),o(144)),D=o.n(A),F=(o(278),o(145)),E=o.n(F),I=(o(279),o(146)),j=o.n(I),M=(o(280),o(147)),V=o.n(M),$=(o(281),o(148)),W=o.n($),B=(o(282),o(149)),U=o.n(B),G=(o(41),o(10),o(12),o(52),o(53),o(441)),z=o.n(G),J=(o(443),o(438),o(439),o(71)),Z=o(150),H=o(440),K=(o(442),o(188)),Q=o(187),X=o(105),Y={mixins:[H.a],layout:"DashboardLayout",components:(l={Tabs:K.a,TabPane:Q.a,BasePagination:Z.b,flatPicker:z.a,RouteBreadCrumb:J.a},Object(c.a)(l,U.a.name,U.a),Object(c.a)(l,W.a.name,W.a),Object(c.a)(l,V.a.name,V.a),Object(c.a)(l,j.a.name,j.a),Object(c.a)(l,E.a.name,E.a),Object(c.a)(l,D.a.name,D.a),Object(c.a)(l,N.a.name,N.a),Object(c.a)(l,T.a.name,T.a),Object(c.a)(l,O.a.name,O.a),Object(c.a)(l,w.a.name,w.a),Object(c.a)(l,k.a.name,k.a),Object(c.a)(l,S.a.name,S.a),Object(c.a)(l,_.a.name,_.a),Object(c.a)(l,f.a.name,f.a),Object(c.a)(l,m.a.name,m.a),l),data:function(){return{mListResiduos:[],mSelectResiduo:null,modalAddLote:!1,modalEditLote:!1,mSelectMercado:null,tableColumnsLote:[{prop:"fechaIngreso",label:"F. INGRESO",minWidth:230},{prop:"observacion_lote",label:"DETALLE",minWidth:250},{prop:"peso",label:"PESO",minWidth:120},{prop:"detalle_tipo_peso",label:"TIPO PESO",minWidth:140},{prop:"nombre_mercado",label:"Procedencia - Sector",minWidth:250},{prop:"UsuarioNombres",label:"USUARIO",minWidth:330}],mSelectTipoPeso:null,mListaInsumos:[],token:this.$cookies.get("token"),mListTipoPesos:[],mListTipoMercados:[],loadingLote:!1,DiaNotificationLote:null,NombreLote:null,ObsLote:null,PesoLote:null,mSelectEstadoLote:0,itemSelectLote:null,isPermisosActions:!1,mListFases:[],mSelectTipoFase:null}},methods:{showEditLote:function(e){this.itemSelectLote=e,this.mSelectEstadoLote=e.activo,this.mSelectTipoPeso=e.id_tipo_peso,this.mSelectMercado=e.id_mercado,this.DiaNotificationLote=e.dia_notificacion,this.NombreLote=e.nombre_lote,this.ObsLote=e.observacion_lote,this.PesoLote=e.peso,this.mSelectResiduo=e.id_residuo,this.mSelectTipoFase=e.FkIDFase,this.modalEditLote=!0},closeEditLote:function(){this.modalEditLote=!1},showAddLote:function(){this.modalAddLote=!0},readLoteAll:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingLote=!0,e.mListaInsumos=[],t.prev=2,t.next=5,e.$axios.post("http://localhost:3002/lote_usuer",{token:e.token});case 5:200==(o=t.sent).data.status_code?(l=e.mListaInsumos).push.apply(l,Object(n.a)(o.data.datos)):300==o.data.status_code?D.a.info({title:"Panel Salidas",message:"No existen datos disponibles."}):D.a.error({title:"Panel Salidas",message:o.data.msm}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),D.a.info({title:"TryCatch Panel Salidas",message:t.t0.toString()});case 13:e.loadingLote=!1;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},readTipoPesosActivo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mListTipoPesos=[],t.prev=1,t.next=4,e.$axios.get("http://localhost:3002/tipo_peso_active");case 4:l=t.sent,console.log(l.data.datos),(o=e.mListTipoPesos).push.apply(o,Object(n.a)(l.data.datos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},readResiduosAll:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mListResiduos=[],t.prev=1,t.next=4,e.$axios.get("http://localhost:3002/read_residuos_all");case 4:l=t.sent,console.log(l.data.datos),(o=e.mListResiduos).push.apply(o,Object(n.a)(l.data.datos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},readTipoMercadoActivo:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mListTipoMercados=[],t.prev=1,t.next=4,e.$axios.get("http://localhost:3002/all_mercados_active");case 4:l=t.sent,console.log(l.data.datos),(o=e.mListTipoMercados).push.apply(o,Object(n.a)(l.data.datos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},insertNuevoLote:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==e.NombreLote||null==e.ObsLote||null==e.PesoLote||null==e.mSelectMercado||null==e.mSelectTipoPeso||null==e.mSelectResiduo){t.next=6;break}return t.next=4,e.$axios.post("http://localhost:3002/add_lote_usuer",{token:e.token,nombre_lote:e.NombreLote,observacion_lote:e.ObsLote,peso:e.PesoLote,tipo_peso:e.mSelectTipoPeso,id_mercado:e.mSelectMercado,dia_notification:null==e.DiaNotificationLote?0:e.DiaNotificationLote,residuo:e.mSelectResiduo});case 4:200==(o=t.sent).data.status_code?(e.clearModalAddLote(),e.readLoteAll()):D.a.info({title:"AGREGAR PILA",message:o.data.msm});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},clearModalAddLote:function(){this.modalAddLote=!1,this.NombreLote=null,this.ObsLote=null,this.PesoLote=null,this.mSelectMercado=null,this.mSelectTipoPeso=null,this.mSelectResiduo=null},updateNuevoLote:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==e.NombreLote||null==e.ObsLote||null==e.PesoLote||null==e.mSelectMercado||null==e.mSelectTipoPeso||null==e.mSelectResiduo||null==e.mSelectTipoPeso){t.next=6;break}return t.next=4,e.$axios.put("http://localhost:3002/update_lote",{token:e.token,id_lote:e.itemSelectLote.id_lote,estado:e.mSelectEstadoLote,nombre_lote:e.NombreLote,observacion_lote:e.ObsLote,peso:e.PesoLote,tipo_peso:e.mSelectTipoPeso,id_mercado:e.mSelectMercado,dia_notification:null==e.DiaNotificationLote?0:e.DiaNotificationLote,residuo:e.mSelectResiduo,fase:e.mSelectTipoFase});case 4:200==(o=t.sent).data.status_code?(e.closeEditLote(),e.readLoteAll()):D.a.info({title:"ACTUALIZACION PILA",message:o.data.msm});case 6:t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},readFases:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mListFases=[],t.prev=1,t.next=4,e.$axios.get("http://localhost:3002/read_fase");case 4:l=t.sent,console.log(l.data.datos),(o=e.mListFases).push.apply(o,Object(n.a)(l.data.datos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},mounted:function(){this.readFases(),this.readResiduosAll(),this.readTipoMercadoActivo(),this.readTipoPesosActivo(),this.readLoteAll(),1==Object(X.a)(this.$cookies.get("token")).datosJWT.active_options_lote&&(this.isPermisosActions=!0)}},ee=(o(481),o(3)),component=Object(ee.a)(Y,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content"},[o("base-header",[o("div",{staticClass:"align-items-center py-3"},[o("card",{staticClass:"no-border-card col",staticStyle:{"margin-bottom":"0.5rem"},attrs:{"body-classes":"px-0 pb-1 card-bodyTopOpcionesRPagosVehiculoPRoduccionPanelDespachoBusqueda cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda","footer-classes":"pb-2"}},[o("div",{staticClass:"cardTextoRPagosVehiculoProduccionPanelDespachoBusqueda"}),e._v(" "),o("div",{staticClass:"cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda"},[o("div",{staticClass:"buttonCenterEndDerecha"},[o("base-button",{attrs:{icon:"",type:"primary",size:"sm"},on:{click:function(t){return e.readLoteAll()}}},[o("span",{staticClass:"btn-inner--icon"},[o("i",{staticClass:"el-icon-search"})])]),e._v(" "),e.isPermisosActions?o("base-button",{attrs:{type:"default",size:"sm",title:"NUEVO PILA"},on:{click:function(t){return e.showAddLote()}}},[o("span",{staticClass:"btn-inner--icon"},[o("i",{staticClass:"ni ni-fat-add"})])]):e._e()],1)])]),e._v(" "),o("card",{staticClass:"no-border-card",staticStyle:{"margin-bottom":"0rem"},attrs:{"body-classes":"card-bodyRPagosVehiculoProduccion px-0 pb-1","footer-classes":"pb-2"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingLote,expression:"loadingLote"}],staticClass:"tablePanelControlProduccion",staticStyle:{width:"100%"},attrs:{"element-loading-text":"Cargando Datos...",data:e.mListaInsumos,"row-key":"id","header-row-class-name":"thead-dark",height:"calc(100vh - 8.90rem)"}},[e.isPermisosActions?o("el-table-column",{attrs:{width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("base-button",{attrs:{size:"sm",title:"EDITAR",type:"primary"},on:{click:function(o){return e.showEditLote(t.row)}}},[o("i",{staticClass:"ni ni-ruler-pencil"})])]}}],null,!1,2828842462)}):e._e(),e._v(" "),o("el-table-column",{attrs:{prop:"id_lote",label:"CODIGO",width:"130"}}),e._v(" "),o("el-table-column",{attrs:{prop:"nombre_lote",label:"LOTE",width:"190"}}),e._v(" "),o("el-table-column",{attrs:{prop:"detalle_residuo",label:"TIPO RESIDUO",width:"270"}}),e._v(" "),o("el-table-column",{attrs:{prop:"detalleFase",label:"FASE ACT.",width:"190"},scopedSlots:e._u([{key:"default",fn:function(t){return[4==t.row.FkIDFase?o("badge",{staticClass:"mr-2",attrs:{type:"warning"}},[e._v(e._s(t.row.detalleFase))]):e._e(),e._v(" "),1==t.row.FkIDFase?o("badge",{staticClass:"mr-2",attrs:{type:"secondary"}},[e._v(e._s(t.row.detalleFase))]):e._e(),e._v(" "),2==t.row.FkIDFase?o("badge",{staticClass:"mr-2",attrs:{type:"default"}},[e._v(e._s(t.row.detalleFase))]):e._e(),e._v(" "),3==t.row.FkIDFase?o("badge",{staticClass:"mr-2",attrs:{type:"primary"}},[e._v(e._s(t.row.detalleFase))]):e._e(),e._v(" "),5==t.row.FkIDFase?o("badge",{staticClass:"mr-2",attrs:{type:"danger"}},[e._v(e._s(t.row.detalleFase))]):e._e()]}}])}),e._v(" "),e._l(e.tableColumnsLote,(function(t){return o("el-table-column",e._b({key:t.label},"el-table-column",t,!1))})),e._v(" "),o("div",{attrs:{slot:"empty"},slot:"empty"})],2)],1)],1)]),e._v(" "),o("modal",{attrs:{show:e.modalAddLote},on:{"update:show":function(t){e.modalAddLote=t}}},[o("validation-observer",{ref:"formValidator",scopedSlots:e._u([{key:"default",fn:function(t){var l=t.handleSubmit;return[o("form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),l(e.firstFormSubmit)}}},[o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-6"},[o("base-input",{attrs:{name:"Nombre Pila",placeholder:"Nombre Pila","prepend-icon":"ni ni-app",rules:"required"},model:{value:e.NombreLote,callback:function(t){e.NombreLote=t},expression:"NombreLote"}})],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Tipo Residuo"},model:{value:e.mSelectResiduo,callback:function(t){e.mSelectResiduo=t},expression:"mSelectResiduo"}},e._l(e.mListResiduos,(function(e){return o("el-option",{key:e.id_residuo,attrs:{label:e.detalle_residuo,value:e.id_residuo}})})),1)],1)]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-6"},[o("base-input",{attrs:{"prepend-icon":"ni ni-single-copy-04",name:"Ingrese Peso",placeholder:"Ingrese Peso",rules:"required"},model:{value:e.PesoLote,callback:function(t){e.PesoLote=t},expression:"PesoLote"}})],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Tipo Peso"},model:{value:e.mSelectTipoPeso,callback:function(t){e.mSelectTipoPeso=t},expression:"mSelectTipoPeso"}},e._l(e.mListTipoPesos,(function(e){return o("el-option",{key:e.id_tipo_peso,attrs:{label:e.detalle_tipo_peso,value:e.id_tipo_peso}})})),1)],1)]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Procedencia - Sector"},model:{value:e.mSelectMercado,callback:function(t){e.mSelectMercado=t},expression:"mSelectMercado"}},e._l(e.mListTipoMercados,(function(e){return o("el-option",{key:e.id_mercado,attrs:{label:e.nombre_mercado,value:e.id_mercado}})})),1)],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("base-input",{attrs:{name:"Dias Notificación",placeholder:"Dias Notificación","prepend-icon":"ni ni-notification-70",type:"number"},model:{value:e.DiaNotificationLote,callback:function(t){e.DiaNotificationLote=t},expression:"DiaNotificationLote"}})],1)]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-12"},[o("base-input",{attrs:{name:"Detalle Pila",placeholder:"Detalle Pila","prepend-icon":"ni ni-paper-diploma",rules:"required"},model:{value:e.ObsLote,callback:function(t){e.ObsLote=t},expression:"ObsLote"}})],1)]),e._v(" "),o("div",{staticClass:"text-right"},[o("base-button",{attrs:{type:"danger"},on:{click:function(t){return e.clearModalAddLote()}}},[e._v("Cancelar")]),e._v(" "),o("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(t){return e.insertNuevoLote()}}},[e._v("Guardar")])],1)])]}}])})],1),e._v(" "),o("modal",{attrs:{show:e.modalEditLote},on:{"update:show":function(t){e.modalEditLote=t}}},[o("validation-observer",{ref:"formValidator",scopedSlots:e._u([{key:"default",fn:function(t){var l=t.handleSubmit;return[o("form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),l(e.firstFormSubmit)}}},[o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-6"},[o("base-input",{attrs:{name:"Nombre Pila",placeholder:"Nombre Pila","prepend-icon":"ni ni-app",rules:"required"},model:{value:e.NombreLote,callback:function(t){e.NombreLote=t},expression:"NombreLote"}})],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Tipo Residuo"},model:{value:e.mSelectResiduo,callback:function(t){e.mSelectResiduo=t},expression:"mSelectResiduo"}},e._l(e.mListResiduos,(function(e){return o("el-option",{key:e.id_residuo,attrs:{label:e.detalle_residuo,value:e.id_residuo}})})),1)],1)]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-6"},[o("base-input",{attrs:{"prepend-icon":"ni ni-single-copy-04",name:"Ingrese Peso",placeholder:"Ingrese Peso",rules:"required"},model:{value:e.PesoLote,callback:function(t){e.PesoLote=t},expression:"PesoLote"}})],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Tipo Peso"},model:{value:e.mSelectTipoPeso,callback:function(t){e.mSelectTipoPeso=t},expression:"mSelectTipoPeso"}},e._l(e.mListTipoPesos,(function(e){return o("el-option",{key:e.id_tipo_peso,attrs:{label:e.detalle_tipo_peso,value:e.id_tipo_peso}})})),1)],1)]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Procedencia - Sector"},model:{value:e.mSelectMercado,callback:function(t){e.mSelectMercado=t},expression:"mSelectMercado"}},e._l(e.mListTipoMercados,(function(e){return o("el-option",{key:e.id_mercado,attrs:{label:e.nombre_mercado,value:e.id_mercado}})})),1)],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Tipo Fase"},model:{value:e.mSelectTipoFase,callback:function(t){e.mSelectTipoFase=t},expression:"mSelectTipoFase"}},e._l(e.mListFases,(function(e){return o("el-option",{key:e.idFase,attrs:{label:e.detalleFase,value:e.idFase}})})),1)],1)]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-12"},[o("base-input",{attrs:{name:"Detalle Pila",placeholder:"Detalle Pila","prepend-icon":"ni ni-paper-diploma",rules:"required"},model:{value:e.ObsLote,callback:function(t){e.ObsLote=t},expression:"ObsLote"}})],1)]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[o("div",{staticClass:"col-md-6"},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Estado"},model:{value:e.mSelectEstadoLote,callback:function(t){e.mSelectEstadoLote=t},expression:"mSelectEstadoLote"}},[o("el-option",{attrs:{label:"ACTIVO",value:1}}),e._v(" "),o("el-option",{attrs:{label:"INACTIVO",value:0}})],1)],1),e._v(" "),o("div",{staticClass:"col-md-6"},[o("base-input",{attrs:{name:"Dias Notificación",placeholder:"Dias Notificación","prepend-icon":"ni ni-notification-70",type:"number"},model:{value:e.DiaNotificationLote,callback:function(t){e.DiaNotificationLote=t},expression:"DiaNotificationLote"}})],1)]),e._v(" "),o("div",{staticClass:"text-right"},[o("base-button",{attrs:{type:"danger"},on:{click:function(t){return e.closeEditLote()}}},[e._v("Cancelar")]),e._v(" "),o("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(t){return e.updateNuevoLote()}}},[e._v("Actualizar")])],1)])]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);