(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{439:function(e,t,n){},452:function(e,t,n){},474:function(e,t,n){"use strict";n(452)},495:function(e,t,n){"use strict";n.r(t);var r,o=n(64),c=n(8),l=n(5),d=(n(269),n(6),n(63)),m=n.n(d),_=(n(186),n(72)),v=n.n(_),h=(n(270),n(104)),f=n.n(h),A=(n(271),n(139)),O=n.n(A),k=(n(272),n(70)),C=n.n(k),E=(n(273),n(140)),R=n.n(E),x=(n(274),n(141)),S=n.n(x),y=(n(275),n(142)),w=n.n(y),L=(n(276),n(143)),D=n.n(L),N=(n(277),n(144)),I=n.n(N),P=(n(278),n(145)),M=n.n(P),j=(n(279),n(146)),T=n.n(j),V=(n(280),n(147)),$=n.n(V),B=(n(281),n(148)),G=n.n(B),U=(n(282),n(149)),W=n.n(U),z=(n(41),n(10),n(12),n(52),n(53),n(441)),J=n.n(z),F=(n(443),n(438),n(439),n(71)),H=n(150),K=n(440),Q=(n(442),n(188)),X=n(187),Y=n(105),Z={mixins:[K.a],layout:"DashboardLayout",components:(r={Tabs:Q.a,TabPane:X.a,BasePagination:H.b,flatPicker:J.a,RouteBreadCrumb:F.a},Object(l.a)(r,W.a.name,W.a),Object(l.a)(r,G.a.name,G.a),Object(l.a)(r,$.a.name,$.a),Object(l.a)(r,T.a.name,T.a),Object(l.a)(r,M.a.name,M.a),Object(l.a)(r,I.a.name,I.a),Object(l.a)(r,D.a.name,D.a),Object(l.a)(r,w.a.name,w.a),Object(l.a)(r,S.a.name,S.a),Object(l.a)(r,R.a.name,R.a),Object(l.a)(r,C.a.name,C.a),Object(l.a)(r,O.a.name,O.a),Object(l.a)(r,f.a.name,f.a),Object(l.a)(r,v.a.name,v.a),Object(l.a)(r,m.a.name,m.a),r),data:function(){return{mSelectMercado:null,tableColumnsLote:[{prop:"detalle_residuo",label:"T. RESIDUO",minWidth:275},{prop:"cant_organica",label:"CANT ORGANICO",minWidth:170},{prop:"cant_impropia",label:"CANT IMPROPIOS",minWidth:170},{prop:"detalle_entrada",label:"DETALLE",minWidth:250}],token:this.$cookies.get("token"),mListMercados:[],loadingLote:!1,modalAddEntrada:!1,mListResiduos:[],mSelectAddMercado:null,mSelectResiduo:null,nombre_encargado_entrada:"",observacion_entrada:"",cant_organica_entrada:null,cant_impropio_entrada:null}},methods:{readResiduosAll:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mListResiduos=[],t.prev=1,t.next=4,e.$axios.get("http://localhost:3002/read_residuos_all");case 4:r=t.sent,console.log(r.data.datos),(n=e.mListResiduos).push.apply(n,Object(o.a)(r.data.datos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},readEntradaAll:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingLote=!0,e.mListaInsumos=[],t.prev=2,t.next=5,e.$axios.post("http://localhost:3002/read_entradas_all",{token:e.token,mercado:null!=e.mSelectMercado&&e.mSelectMercado.length>0?e.mSelectMercado:"*"});case 5:200==(n=t.sent).data.status_code?(r=e.mListaInsumos).push.apply(r,Object(o.a)(n.data.datos)):300==n.data.status_code?I.a.info({title:"Entradas",message:"No existen datos disponibles."}):I.a.error({title:"Entradas",message:n.data.msm}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),I.a.info({title:"TryCatch Entradas",message:t.t0.toString()});case 13:e.loadingLote=!1;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},readTipoMercadoActivo:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.mListMercados=[],t.prev=1,t.next=4,e.$axios.get("http://localhost:3002/all_mercados_active");case 4:r=t.sent,console.log(r.data.datos),(n=e.mListMercados).push.apply(n,Object(o.a)(r.data.datos)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()},showAddEntrada:function(){this.modalAddEntrada=!0},insertNuevaLoteEntrada:function(){var e=this;return Object(c.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""==e.nombre_encargado_entrada){t.next=24;break}if(null==e.mSelectAddMercado){t.next=21;break}if(null==e.mSelectResiduo){t.next=18;break}if(null==e.cant_organica_entrada){t.next=15;break}if(null==e.cant_impropio_entrada){t.next=12;break}return t.next=8,e.$axios.post("http://localhost:3002/create_entrada",{token:e.token,fk_id_mercado:e.mSelectAddMercado,cant_organica:null==e.cant_organica_entrada?0:e.cant_organica_entrada,cant_impropia:null==e.cant_impropio_entrada?0:e.cant_impropio_entrada,name_encargado:e.nombre_encargado_entrada,fk_tipo_residuo:e.mSelectResiduo,detalle_entrada:e.observacion_entrada});case 8:200==(n=t.sent).data.status_code?(e.clearModalEntrada(),e.readEntradaAll()):I.a.info({title:"ENTRADA",message:n.data.msm}),t.next=13;break;case 12:I.a.info({title:"ENTRADA",message:"CANTIDAD IMPROPIOS NO VALIDO"});case 13:t.next=16;break;case 15:I.a.info({title:"ENTRADA",message:"CANTIDAD ORGANICO NO VALIDO"});case 16:t.next=19;break;case 18:I.a.info({title:"ENTRADA",message:"SELECCIONE UN RESIDUO VALIDO"});case 19:t.next=22;break;case 21:I.a.info({title:"ENTRADA",message:"SELECCIONE UNA PROCEDENCIA VALIDO"});case 22:t.next=25;break;case 24:I.a.info({title:"ENTRADA",message:"NOMBRE DEL ENCARGADO NO VALIDO"});case 25:t.next=30;break;case 27:t.prev=27,t.t0=t.catch(0),console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[0,27]])})))()},clearModalEntrada:function(){this.modalAddEntrada=!1,this.mSelectAddMercado=null,this.mSelectResiduo=null,this.nombre_encargado_entrada="",this.observacion_entrada="",this.cant_organica_entrada=null,this.cant_impropio_entrada=null},deleteItemEntrada:function(e){var t=this;return Object(c.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(e),n.prev=1,n.next=4,t.$axios.delete("http://localhost:3002/delete_entrada",{data:{token:t.token,id_entrada:e}});case 4:200==(r=n.sent).data.status_code?t.readEntradaAll():alert(r.data.msm),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),alert(n.t0.toString());case 11:case"end":return n.stop()}}),n,null,[[1,8]])})))()}},mounted:function(){this.readResiduosAll(),this.readTipoMercadoActivo(),this.readEntradaAll(),1==Object(Y.a)(this.$cookies.get("token")).datosJWT.active_options_lote&&(this.isPermisosActions=!0)}},aa=(n(474),n(3)),component=Object(aa.a)(Z,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"content"},[n("base-header",[n("div",{staticClass:"align-items-center py-3"},[n("card",{staticClass:"no-border-card col",staticStyle:{"margin-bottom":"0.5rem"},attrs:{"body-classes":"px-0 pb-1 card-bodyTopOpcionesRPagosVehiculoPRoduccionPanelDespachoBusqueda cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda","footer-classes":"pb-2"}},[n("div",{staticClass:"cardTextoRPagosVehiculoProduccionPanelDespachoBusqueda"},[n("el-select",{staticStyle:{"margin-right":"0.5rem"},attrs:{placeholder:"Procedencia - Sector",multiple:"","collapse-tags":""},model:{value:e.mSelectMercado,callback:function(t){e.mSelectMercado=t},expression:"mSelectMercado"}},e._l(e.mListMercados,(function(e){return n("el-option",{key:e.id_mercado,attrs:{label:e.nombre_mercado,value:e.id_mercado}})})),1)],1),e._v(" "),n("div",{staticClass:"cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda"},[n("div",{staticClass:"buttonCenterEndDerecha"},[n("base-button",{attrs:{icon:"",type:"primary",size:"sm"},on:{click:function(t){return e.readEntradaAll()}}},[n("span",{staticClass:"btn-inner--icon"},[n("i",{staticClass:"el-icon-search"})])]),e._v(" "),e.isPermisosActions?n("base-button",{attrs:{type:"default",size:"sm",title:"NUEVO PILA"},on:{click:function(t){return e.showAddEntrada()}}},[n("span",{staticClass:"btn-inner--icon"},[n("i",{staticClass:"ni ni-fat-add"})])]):e._e()],1)])]),e._v(" "),n("card",{staticClass:"no-border-card",staticStyle:{"margin-bottom":"0rem"},attrs:{"body-classes":"card-bodyEntrada px-0 pb-1","footer-classes":"pb-2"}},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingLote,expression:"loadingLote"}],staticClass:"tablePanelControlProduccion",staticStyle:{width:"100%"},attrs:{"element-loading-text":"Cargando Datos...",data:e.mListaInsumos,"row-key":"id","header-row-class-name":"thead-dark",height:"calc(100vh - 10rem)"}},[e.isPermisosActions?n("el-table-column",{attrs:{width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("base-button",{attrs:{size:"sm",title:"ELIMINAR",type:"danger"},on:{click:function(n){return e.deleteItemEntrada(t.row.id_entrada)}}},[n("i",{staticClass:"ni ni-fat-remove"})])]}}],null,!1,3503495222)}):e._e(),e._v(" "),n("el-table-column",{attrs:{prop:"id_entrada",label:"CODIGO",width:"130"}}),e._v(" "),n("el-table-column",{attrs:{prop:"fecha_hora_entrada_",label:"FECHA",width:"190"}}),e._v(" "),n("el-table-column",{attrs:{prop:"nombre_mercado",label:"PROCEDENCIA",width:"270"}}),e._v(" "),e._l(e.tableColumnsLote,(function(t){return n("el-table-column",e._b({key:t.label},"el-table-column",t,!1))})),e._v(" "),n("div",{attrs:{slot:"empty"},slot:"empty"})],2)],1)],1)]),e._v(" "),n("modal",{attrs:{show:e.modalAddEntrada},on:{"update:show":function(t){e.modalAddEntrada=t}}},[n("validation-observer",{ref:"formValidator",scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[n("form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),r(e.firstFormSubmit)}}},[n("div",{staticClass:"form-row"},[n("div",{staticClass:"col-md-12"},[n("base-input",{attrs:{"prepend-icon":"ni ni-single-copy-04",name:"Nombre Encargado",placeholder:"Nombre Encargado",rules:"required"},model:{value:e.nombre_encargado_entrada,callback:function(t){e.nombre_encargado_entrada=t},expression:"nombre_encargado_entrada"}})],1)]),e._v(" "),n("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[n("div",{staticClass:"col-md-6"},[n("el-select",{staticStyle:{"margin-right":"0.5rem"},attrs:{placeholder:"Procedencia - Sector","collapse-tags":""},model:{value:e.mSelectAddMercado,callback:function(t){e.mSelectAddMercado=t},expression:"mSelectAddMercado"}},e._l(e.mListMercados,(function(e){return n("el-option",{key:e.id_mercado,attrs:{label:e.nombre_mercado,value:e.id_mercado}})})),1)],1),e._v(" "),n("div",{staticClass:"col-md-6"},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"Tipo Residuo"},model:{value:e.mSelectResiduo,callback:function(t){e.mSelectResiduo=t},expression:"mSelectResiduo"}},e._l(e.mListResiduos,(function(e){return n("el-option",{key:e.id_residuo,attrs:{label:e.detalle_residuo,value:e.id_residuo}})})),1)],1)]),e._v(" "),n("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[n("div",{staticClass:"col-md-6"},[n("base-input",{attrs:{name:"Cant Organico",placeholder:"Cant Organico","prepend-icon":"ni ni-notification-70",type:"number",min:0},model:{value:e.cant_organica_entrada,callback:function(t){e.cant_organica_entrada=t},expression:"cant_organica_entrada"}})],1),e._v(" "),n("div",{staticClass:"col-md-6"},[n("base-input",{attrs:{name:"Cant Impropios",placeholder:"Cant Impropios","prepend-icon":"ni ni-notification-70",type:"number",min:0},model:{value:e.cant_impropio_entrada,callback:function(t){e.cant_impropio_entrada=t},expression:"cant_impropio_entrada"}})],1)]),e._v(" "),n("div",{staticClass:"form-row",staticStyle:{"margin-bottom":"0.5rem"}},[n("div",{staticClass:"col-md-12"},[n("base-input",{attrs:{name:"Observación",placeholder:"Observación","prepend-icon":"ni ni-paper-diploma"},model:{value:e.observacion_entrada,callback:function(t){e.observacion_entrada=t},expression:"observacion_entrada"}})],1)]),e._v(" "),n("div",{staticClass:"text-right"},[n("base-button",{attrs:{type:"danger"},on:{click:function(t){return e.clearModalEntrada()}}},[e._v("Cancelar")]),e._v(" "),n("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(t){return e.insertNuevaLoteEntrada()}}},[e._v("Guardar")])],1)])]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);