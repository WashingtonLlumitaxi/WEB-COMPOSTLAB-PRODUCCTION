(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{439:function(e,t,o){},444:function(e,t,o){"use strict";function n(e){return!!/^(?:\+593|0)?9\d{8}$/.test(e)}function r(e){if(10!==e.length)return!1;if(!/^\d+$/.test(e))return!1;for(var t=parseInt(e.charAt(9)),o=0,n=0,i=0;i<9;i++){var r=parseInt(e.charAt(i));i%2==0?(n=2*r)>9&&(n-=9):n=r,o+=n}var l=o%10;return(0===l?0:10-l)===t}function l(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return r})),o.d(t,"b",(function(){return l}))},451:function(e,t,o){},473:function(e,t,o){"use strict";o(451)},494:function(e,t,o){"use strict";o.r(t);var n,r=o(64),l=o(8),c=o(5),d=(o(269),o(6),o(63)),m=o.n(d),h=(o(186),o(72)),f=o.n(h),S=(o(270),o(104)),O=o.n(S),A=(o(271),o(139)),v=o.n(A),D=(o(272),o(70)),E=o.n(D),L=(o(273),o(140)),C=o.n(L),k=(o(274),o(141)),P=o.n(k),_=(o(275),o(142)),I=o.n(_),w=(o(276),o(143)),x=o.n(w),N=(o(277),o(144)),T=o.n(N),y=(o(278),o(145)),R=o.n(y),j=(o(279),o(146)),H=o.n(j),V=(o(280),o(147)),U=o.n(V),W=(o(281),o(148)),$=o.n(W),F=(o(282),o(149)),B=o.n(F),G=(o(283),o(170)),M=o.n(G),z=(o(41),o(10),o(12),o(52),o(53),o(441)),J=o.n(z),X=o(444),K=(o(443),o(438),o(439),o(105)),Q=o(71),Y=o(150),Z=o(440),ee=(o(442),o(188)),ae=o(187),te={mixins:[Z.a],layout:"DashboardLayout",components:(n={Tabs:ee.a,TabPane:ae.a,BasePagination:Y.b,flatPicker:J.a,RouteBreadCrumb:Q.a},Object(c.a)(n,M.a.name,M.a),Object(c.a)(n,B.a.name,B.a),Object(c.a)(n,$.a.name,$.a),Object(c.a)(n,U.a.name,U.a),Object(c.a)(n,H.a.name,H.a),Object(c.a)(n,R.a.name,R.a),Object(c.a)(n,T.a.name,T.a),Object(c.a)(n,x.a.name,x.a),Object(c.a)(n,I.a.name,I.a),Object(c.a)(n,P.a.name,P.a),Object(c.a)(n,C.a.name,C.a),Object(c.a)(n,E.a.name,E.a),Object(c.a)(n,v.a.name,v.a),Object(c.a)(n,O.a.name,O.a),Object(c.a)(n,f.a.name,f.a),Object(c.a)(n,m.a.name,m.a),n),data:function(){return{tableColumnsLote:[{prop:"nombre_lote",label:"PILA",minWidth:190},{prop:"vOxigeno",label:"OXIGENO",minWidth:150},{prop:"vPh",label:"PH",minWidth:120},{prop:"vHumedad",label:"HUMEDAD",minWidth:150},{prop:"vTemperatura",label:"TEMPERATURA",minWidth:150},{prop:"fechaIngreso",label:"F. INGRESO",minWidth:230},{prop:"fechaDespacho",label:"F. DESPACHO",minWidth:230},{prop:"peso",label:"PESO",minWidth:120},{prop:"detalle_tipo_peso",label:"TIPO PESO",minWidth:180},{prop:"nombre_mercado",label:"Procedencia - Sector",minWidth:220}],mListaHistorialLote:[],itemRowHistorialLote:null,token:this.$cookies.get("token"),isPermisosActions:!1,loadingHLote:!1,itemSelectDespacho:null,modalDespachoAuth:!1,destinoSalida:null,correoSalida:null,telefonoSalida:null}},methods:{readHistorialLoteAll:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingHLote=!0,e.mListaHistorialLote=[],t.prev=2,t.next=5,e.$axios.post("http://localhost:3002/despacho_lote_usuer",{token:e.token});case 5:200==(o=t.sent).data.status_code||300==o.data.status_code?(n=e.mListaHistorialLote).push.apply(n,Object(r.a)(o.data.datos)):T.a.error({title:"PILAS DESPACHO",message:o.data.msm}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),T.a.info({title:"TryCatch PILAS DESPACHO",message:t.t0.toString()});case 13:e.loadingHLote=!1;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},showNotificationError:function(title,e){T.a.error({title:title,message:e})},showNotificationDespacho:function(e){this.modalDespachoAuth=!0,this.itemSelectDespacho=e},sendAuthLoteSalida:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,null==e.destinoSalida||null==e.correoSalida||null==e.telefonoSalida){t.next=28;break}if(null==e.destinoSalida){t.next=25;break}if(null==e.telefonoSalida){t.next=22;break}if(null==e.correoSalida){t.next=19;break}if(!Object(X.b)(e.correoSalida)){t.next=16;break}if(!Object(X.c)(e.telefonoSalida)){t.next=13;break}return t.next=9,e.$axios.post("http://localhost:3002/authLoteSalida",{token:e.token,lote:e.itemSelectDespacho.id_lote,destinoSalida:e.destinoSalida,correoSalida:e.correoSalida,telefonoSalida:e.telefonoSalida});case 9:200==(o=t.sent).data.status_code?(e.closeModalDespacho(),e.readHistorialLoteAll()):T.a.error({title:"PILAS DESPACHO",message:o.data.msm}),t.next=14;break;case 13:e.showNotificationError("AUT. SALIDA","TELEFONO NO VALIDA.!!");case 14:t.next=17;break;case 16:e.showNotificationError("AUT. SALIDA","CORREO ELECTRONICO NO VALIDA.!!");case 17:t.next=20;break;case 19:e.showNotificationError("AUT. SALIDA","INGRESE UN CORREO VALIDO.!");case 20:t.next=23;break;case 22:e.showNotificationError("AUT. SALIDA","INGRESE UN TELEFONO VALIDO");case 23:t.next=26;break;case 25:e.showNotificationError("AUT. SALIDA","INGRESE UN DESTINO VALIDO.!");case 26:t.next=29;break;case 28:e.showNotificationError("AUT. SALIDA","EXISTEN DATOS VACIOS");case 29:t.next=35;break;case 31:t.prev=31,t.t0=t.catch(0),console.log(t.t0),T.a.info({title:"TryCatch PILAS DESPACHO",message:t.t0.toString()});case 35:case"end":return t.stop()}}),t,null,[[0,31]])})))()},closeModalDespacho:function(){this.itemSelectDespacho=null,this.modalDespachoAuth=!1,this.destinoSalida=null,this.correoSalida=null,this.telefonoSalida=null}},mounted:function(){1==Object(K.a)(this.$cookies.get("token")).datosJWT.active_options_despacho&&(this.isPermisosActions=!0),this.readHistorialLoteAll()}},oe=(o(473),o(3)),component=Object(oe.a)(te,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"content"},[o("base-header",[o("div",{staticClass:"align-items-center py-3"},[o("card",{staticClass:"no-border-card col",staticStyle:{"margin-bottom":"0.5rem"},attrs:{"body-classes":"px-0 pb-1 card-bodyTopOpcionesRPagosVehiculoPRoduccionPanelDespachoBusqueda cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda","footer-classes":"pb-2"}},[o("div",{staticClass:"cardTextoRPagosVehiculoProduccionPanelDespachoBusqueda"}),e._v(" "),o("div",{staticClass:"cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda"},[o("div",{staticClass:"buttonCenterEndDerecha"},[o("base-button",{attrs:{icon:"",type:"primary",size:"sm"},on:{click:function(t){return e.readHistorialLoteAll()}}},[o("span",{staticClass:"btn-inner--icon"},[o("i",{staticClass:"el-icon-search"})])])],1)])]),e._v(" "),o("card",{staticClass:"no-border-card",staticStyle:{"margin-bottom":"0rem"},attrs:{"body-classes":"card-bodyRPagosVehiculoProduccion px-0 pb-1","footer-classes":"pb-2"}},[o("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingHLote,expression:"loadingHLote"}],staticClass:"tablePanelControlProduccion",staticStyle:{width:"100%"},attrs:{"element-loading-text":"Cargando Datos...",data:e.mListaHistorialLote,"row-key":"id","header-row-class-name":"thead-dark",height:"calc(100vh - 8.90rem)"}},[e.isPermisosActions?o("el-table-column",{attrs:{label:"",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("base-button",{attrs:{size:"sm",title:"ENVIAR A SALIDA",type:"danger"},on:{click:function(o){return e.showNotificationDespacho(t.row)}}},[o("i",{staticClass:"ni ni-check-bold"}),e._v("AUT. SALIDA")])]}}],null,!1,3068539980)}):e._e(),e._v(" "),o("el-table-column",{attrs:{prop:"id_lote",label:"CODIGO",width:"130"}}),e._v(" "),e._l(e.tableColumnsLote,(function(t){return o("el-table-column",e._b({key:t.label},"el-table-column",t,!1))})),e._v(" "),o("div",{attrs:{slot:"empty"},slot:"empty"})],2)],1),e._v(" "),o("modal",{attrs:{show:e.modalDespachoAuth,"modal-classes":"modal-sm"},on:{"update:show":function(t){e.modalDespachoAuth=t}}},[o("validation-observer",{ref:"formValidator",scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[o("form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),n(e.firstFormSubmit)}}},[o("h6",{staticClass:"modal-title",attrs:{slot:"header"},slot:"header"},[e._v("\n              Desea enviar el\n              "+e._s(null==e.itemSelectDespacho?"":e.itemSelectDespacho.nombre_lote)+"\n              a salida ?\n            ")]),e._v(" "),o("div",{staticClass:"form-row",staticStyle:{"margin-top":"1rem"}},[o("div",{staticClass:"col-md-12"},[o("base-input",{attrs:{name:"DESTINO",placeholder:"DESTINO","prepend-icon":"ni ni-single-02",rules:"required"},model:{value:e.destinoSalida,callback:function(t){e.destinoSalida=t},expression:"destinoSalida"}})],1)]),e._v(" "),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-12"},[o("base-input",{attrs:{name:"CORREO DESTINO",placeholder:"CORREO","prepend-icon":"ni ni-email-83",rules:"required"},model:{value:e.correoSalida,callback:function(t){e.correoSalida=t},expression:"correoSalida"}})],1)]),e._v(" "),o("div",{staticClass:"form-row"},[o("div",{staticClass:"col-md-12"},[o("base-input",{attrs:{name:"TELEFONO",placeholder:"TELEFONO",type:"tel","prepend-icon":"ni ni-mobile-button",rules:"required"},model:{value:e.telefonoSalida,callback:function(t){e.telefonoSalida=t},expression:"telefonoSalida"}})],1)]),e._v(" "),o("div",{staticClass:"text-right"},[o("base-button",{attrs:{type:"danger"},on:{click:function(t){return e.closeModalDespacho()}}},[e._v("Cancelar")]),e._v(" "),o("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(t){return e.sendAuthLoteSalida()}}},[e._v("Actualizar")])],1)])]}}])})],1)],1)])],1)}),[],!1,null,null,null);t.default=component.exports}}]);