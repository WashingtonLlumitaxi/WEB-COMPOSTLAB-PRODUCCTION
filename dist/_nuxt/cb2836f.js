(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{439:function(e,t,r){},444:function(e,t,r){"use strict";function o(e){return!!/^(?:\+593|0)?9\d{8}$/.test(e)}function c(e){if(10!==e.length)return!1;if(!/^\d+$/.test(e))return!1;for(var t=parseInt(e.charAt(9)),r=0,o=0,i=0;i<9;i++){var c=parseInt(e.charAt(i));i%2==0?(o=2*c)>9&&(o-=9):o=c,r+=o}var n=r%10;return(0===n?0:10-n)===t}function n(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}r.d(t,"c",(function(){return o})),r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return n}))},457:function(e,t,r){},480:function(e,t,r){"use strict";r(457)},500:function(e,t,r){"use strict";r.r(t);var o,c=r(64),n=r(8),d=r(5),l=(r(269),r(6),r(63)),m=r.n(l),f=(r(186),r(72)),M=r.n(f),v=(r(270),r(104)),h=r.n(v),_=(r(271),r(139)),C=r.n(_),O=(r(272),r(70)),E=r.n(O),S=(r(273),r(140)),k=r.n(S),x=(r(274),r(141)),y=r.n(x),P=(r(275),r(142)),A=r.n(P),w=(r(276),r(143)),N=r.n(w),D=(r(277),r(144)),R=r.n(D),j=(r(278),r(145)),I=r.n(j),T=(r(279),r(146)),L=r.n(T),V=(r(280),r(147)),B=r.n(V),$=(r(281),r(148)),F=r.n($),W=(r(282),r(149)),G=r.n(W),U=(r(41),r(10),r(12),r(52),r(53),r(105)),z=r(444),J=r(441),K=r.n(J),Z=(r(443),r(438),r(439),r(71)),H=r(150),Q=r(440),X=(r(442),r(188)),Y=r(187),ee={mixins:[Q.a],layout:"DashboardLayout",components:(o={Tabs:X.a,TabPane:Y.a,BasePagination:H.b,flatPicker:K.a,RouteBreadCrumb:Z.a},Object(d.a)(o,G.a.name,G.a),Object(d.a)(o,F.a.name,F.a),Object(d.a)(o,B.a.name,B.a),Object(d.a)(o,L.a.name,L.a),Object(d.a)(o,I.a.name,I.a),Object(d.a)(o,R.a.name,R.a),Object(d.a)(o,N.a.name,N.a),Object(d.a)(o,A.a.name,A.a),Object(d.a)(o,y.a.name,y.a),Object(d.a)(o,k.a.name,k.a),Object(d.a)(o,E.a.name,E.a),Object(d.a)(o,C.a.name,C.a),Object(d.a)(o,h.a.name,h.a),Object(d.a)(o,M.a.name,M.a),Object(d.a)(o,m.a.name,m.a),o),data:function(){return{modalAddMercado:!1,modalEditMercado:!1,tableColumnsUnidadesFlotaVehicular:[{prop:"nombre_mercado",label:"Procedencia - Sector",minWidth:250},{prop:"cant_organica_mercado",label:"C. Organica (KG)",minWidth:230},{prop:"encargado_mercado",label:"ENCARGADO",minWidth:230},{prop:"email_mercado",label:"EMAIL",minWidth:230},{prop:"telefono_mercado",label:"TELEFONO",minWidth:170,sortable:!0},{prop:"dire_mercado",label:"DIRECCION",minWidth:240}],mListaSalidasPanelBusqueda:[],loadingMercado:!1,mercadoNombre:"",encargadoMercado:"",emailMercado:"",telMercado:"",dirMercado:"",mSelectEstadoMercado:1,itemSelectMercado:null,isPermisosActions:!1}},methods:{showEditMercado:function(e){this.itemSelectMercado=e,this.mercadoNombre=e.nombre_mercado,this.encargadoMercado=e.encargado_mercado,this.emailMercado=e.email_mercado,this.telMercado=e.telefono_mercado,this.dirMercado=e.dire_mercado,this.mSelectEstadoMercado=e.estado,this.modalEditMercado=!0},closeEditMercado:function(){this.modalEditMercado=!1,this.itemSelectMercado=null},showAddMercado:function(){this.clearModalMercado(),this.modalAddMercado=!1},readMercadosAll:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loadingMercado=!0,e.mListaSalidasPanelBusqueda=[],t.prev=2,t.next=5,e.$axios.get("http://localhost:3002/all_mercados",{});case 5:200==(r=t.sent).data.status_code?(o=e.mListaSalidasPanelBusqueda).push.apply(o,Object(c.a)(r.data.datos)):300==r.data.status_code?R.a.info({title:"Panel Salidas",message:"No existen datos disponibles."}):R.a.error({title:"Panel Salidas",message:r.data.msm}),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),R.a.info({title:"TryCatch Panel Salidas",message:t.t0.toString()});case 13:e.loadingMercado=!1;case 14:case"end":return t.stop()}}),t,null,[[2,9]])})))()},clearModalMercado:function(){this.mercadoNombre="",this.encargadoMercado="",this.emailMercado="",this.telMercado="",this.dirMercado=""},registerMercado:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==e.mercadoNombre||""==e.encargadoMercado||""==e.emailMercado||""==e.telMercado||""==e.dirMercado){t.next=19;break}if(t.prev=1,!Object(z.b)(e.emailMercado)){t.next=13;break}if(!Object(z.c)(e.telMercado)){t.next=10;break}return t.next=6,e.$axios.post("http://localhost:3002/create_mercado",{nombre_mercado:e.mercadoNombre,encargado_mercado:e.encargadoMercado,email_mercado:e.emailMercado,telefono_mercado:e.telMercado,dire_mercado:e.dirMercado});case 6:t.sent,e.readMercadosAll(),t.next=11;break;case 10:R.a.error({title:"PROCEDENCIA - SECTOR",message:"TELEFONO NO VALIDO !"});case 11:t.next=14;break;case 13:R.a.error({title:"PROCEDENCIA - SECTOR",message:"EMAIL NO VALIDO !"});case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})))()},updateMercado:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""==e.mercadoNombre||""==e.encargadoMercado||""==e.emailMercado||""==e.telMercado||""==e.dirMercado||null==e.itemSelectMercado){t.next=21;break}if(t.prev=1,!Object(z.b)(e.emailMercado)){t.next=14;break}if(!Object(z.c)(e.telMercado)){t.next=11;break}return t.next=6,e.$axios.put("http://localhost:3002/update_mercado",{id_mercado:e.itemSelectMercado.id_mercado,estado:e.mSelectEstadoMercado,nombre_mercado:e.mercadoNombre,encargado_mercado:e.encargadoMercado,email_mercado:e.emailMercado,telefono_mercado:e.telMercado,dire_mercado:e.dirMercado});case 6:t.sent,e.closeEditMercado(),e.readMercadosAll(),t.next=12;break;case 11:R.a.error({title:"PROCEDENCIA - SECTOR",message:"TELEFONO NO VALIDO !"});case 12:t.next=15;break;case 14:R.a.error({title:"PROCEDENCIA - SECTOR",message:"EMAIL NO VALIDO !"});case 15:t.next=21;break;case 17:t.prev=17,t.t0=t.catch(1),console.log(t.t0),alert(t.t0.toString());case 21:case"end":return t.stop()}}),t,null,[[1,17]])})))()}},mounted:function(){this.readMercadosAll(),1==Object(U.a)(this.$cookies.get("token")).datosJWT.active_options_mercado&&(this.isPermisosActions=!0)}},ae=(r(480),r(3)),component=Object(ae.a)(ee,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("base-header",[r("div",{staticClass:"align-items-center py-3"},[r("card",{staticClass:"no-border-card col",staticStyle:{"margin-bottom":"0.5rem"},attrs:{"body-classes":"px-0 pb-1 card-bodyTopOpcionesRPagosVehiculoPRoduccionPanelDespachoBusqueda cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda","footer-classes":"pb-2"}},[r("div",{staticClass:"cardTextoRPagosVehiculoProduccionPanelDespachoBusqueda"}),e._v(" "),r("div",{staticClass:"cardSelectRubrosEstadosPagosVehiculoProduccionContainerPanelDespachoBusqueda"},[r("div",{staticClass:"buttonCenterEndDerecha"},[r("base-button",{attrs:{icon:"",type:"primary",size:"sm"},on:{click:function(t){return e.readMercadosAll()}}},[r("span",{staticClass:"btn-inner--icon"},[r("i",{staticClass:"el-icon-search"})])]),e._v(" "),e.isPermisosActions?r("base-button",{attrs:{type:"default",size:"sm",title:"NUEVO MERCARDO"},on:{click:function(t){return e.showAddMercado()}}},[r("span",{staticClass:"btn-inner--icon"},[r("i",{staticClass:"ni ni-fat-add"})])]):e._e()],1)])]),e._v(" "),r("card",{staticClass:"no-border-card",staticStyle:{"margin-bottom":"0rem"},attrs:{"body-classes":"card-bodyRPagosVehiculoProduccion px-0 pb-1","footer-classes":"pb-2"}},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingMercado,expression:"loadingMercado"}],staticClass:"tablePanelControlProduccion",staticStyle:{width:"100%"},attrs:{"element-loading-text":"Cargando Datos...",data:e.mListaSalidasPanelBusqueda,"row-key":"id","header-row-class-name":"thead-dark",height:"calc(100vh - 8.90rem)"}},[e.isPermisosActions?r("el-table-column",{attrs:{label:"Actions",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("base-button",{attrs:{size:"sm",title:"EDITAR",type:"primary"},on:{click:function(r){return e.showEditMercado(t.row)}}},[r("i",{staticClass:"ni ni-ruler-pencil"})])]}}],null,!1,3764165119)}):e._e(),e._v(" "),r("el-table-column",{attrs:{prop:"id_mercado",label:"CODIGO",width:"130"}}),e._v(" "),e._l(e.tableColumnsUnidadesFlotaVehicular,(function(t){return r("el-table-column",e._b({key:t.label},"el-table-column",t,!1))})),e._v(" "),r("el-table-column",{attrs:{label:"Estado","min-width":"270px",prop:"estado"},scopedSlots:e._u([{key:"default",fn:function(t){var o=t.row;return[r("badge",{staticClass:"badge-dot mr-4",attrs:{type:""}},[r("span",{staticClass:"status"},[r("strong",[e._v(e._s(1==o.estado?"ACTIVADO":"ELIMINADO"))])])])]}}])}),e._v(" "),r("div",{attrs:{slot:"empty"},slot:"empty"})],2)],1)],1)]),e._v(" "),r("modal",{attrs:{show:e.modalAddMercado},on:{"update:show":function(t){e.modalAddMercado=t}}},[r("validation-observer",{ref:"formValidator",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.handleSubmit;return[r("form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),o(e.firstFormSubmit)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{name:"Nombre Procedencia - Sector",placeholder:"Nombre Procedencia - Sector","prepend-icon":"ni ni-shop",rules:"required"},model:{value:e.mercadoNombre,callback:function(t){e.mercadoNombre=t},expression:"mercadoNombre"}})],1),e._v(" "),r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{"prepend-icon":"ni ni-single-02",name:"Encargado Procedencia - Sector",placeholder:"Encargado Procedencia - Sector",rules:"required"},model:{value:e.encargadoMercado,callback:function(t){e.encargadoMercado=t},expression:"encargadoMercado"}})],1)]),e._v(" "),r("div",{staticClass:"form-row",staticStyle:{"margin-top":"0.5rem"}},[r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{name:"Email",placeholder:"Email","prepend-icon":"ni ni-email-83",rules:"required"},model:{value:e.emailMercado,callback:function(t){e.emailMercado=t},expression:"emailMercado"}})],1),e._v(" "),r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{"prepend-icon":"ni ni-mobile-button",name:"Telefono",rules:"required",placeholder:"Telefono"},model:{value:e.telMercado,callback:function(t){e.telMercado=t},expression:"telMercado"}})],1)]),e._v(" "),r("div",{staticClass:"form-row",staticStyle:{"margin-top":"0.5rem"}},[r("div",{staticClass:"col-md-12"},[r("base-input",{attrs:{name:"Dirección",placeholder:"Dirección","prepend-icon":"ni ni-square-pin",rules:"required"},model:{value:e.dirMercado,callback:function(t){e.dirMercado=t},expression:"dirMercado"}})],1)]),e._v(" "),r("div",{staticClass:"text-right",staticStyle:{"margin-top":"1rem"}},[r("base-button",{attrs:{type:"danger"},on:{click:function(t){return e.clearModalMercado()}}},[e._v("Cancelar")]),e._v(" "),r("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(t){return e.registerMercado()}}},[e._v("Guardar")])],1)])]}}])})],1),e._v(" "),r("modal",{attrs:{show:e.modalEditMercado},on:{"update:show":function(t){e.modalEditMercado=t}}},[r("validation-observer",{ref:"formValidator",scopedSlots:e._u([{key:"default",fn:function(t){var o=t.handleSubmit;return[r("form",{staticClass:"needs-validation",on:{submit:function(t){return t.preventDefault(),o(e.firstFormSubmit)}}},[r("div",{staticClass:"form-row"},[r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{name:"Nombre Procedencia - Sector",placeholder:"Nombre Procedencia - Sector","prepend-icon":"ni ni-shop",rules:"required"},model:{value:e.mercadoNombre,callback:function(t){e.mercadoNombre=t},expression:"mercadoNombre"}})],1),e._v(" "),r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{"prepend-icon":"ni ni-single-02",name:"Encargado Procedencia - Sector",placeholder:"Encargado Procedencia - Sector",rules:"required"},model:{value:e.encargadoMercado,callback:function(t){e.encargadoMercado=t},expression:"encargadoMercado"}})],1)]),e._v(" "),r("div",{staticClass:"form-row",staticStyle:{"margin-top":"0.5rem"}},[r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{name:"Email",placeholder:"Email","prepend-icon":"ni ni-email-83",rules:"required"},model:{value:e.emailMercado,callback:function(t){e.emailMercado=t},expression:"emailMercado"}})],1),e._v(" "),r("div",{staticClass:"col-md-6"},[r("base-input",{attrs:{"prepend-icon":"ni ni-mobile-button",name:"Telefono",rules:"required",type:"tel",placeholder:"Telefono"},model:{value:e.telMercado,callback:function(t){e.telMercado=t},expression:"telMercado"}})],1)]),e._v(" "),r("div",{staticClass:"form-row",staticStyle:{"margin-top":"0.5rem"}},[r("div",{staticClass:"col-md-12"},[r("base-input",{attrs:{name:"Dirección",placeholder:"Dirección","prepend-icon":"ni ni-square-pin",rules:"required"},model:{value:e.dirMercado,callback:function(t){e.dirMercado=t},expression:"dirMercado"}})],1)]),e._v(" "),r("div",{staticClass:"form-row",staticStyle:{"margin-top":"0.5rem"}},[r("div",{staticClass:"col-md-12"},[r("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"ESTADO"},model:{value:e.mSelectEstadoMercado,callback:function(t){e.mSelectEstadoMercado=t},expression:"mSelectEstadoMercado"}},[r("el-option",{attrs:{label:"INACTIVO",value:0}}),e._v(" "),r("el-option",{attrs:{label:"ACTIVO",value:1}})],1)],1)]),e._v(" "),r("div",{staticClass:"text-right",staticStyle:{"margin-top":"1rem"}},[r("base-button",{attrs:{type:"danger"},on:{click:function(t){return e.closeEditMercado()}}},[e._v("Cancelar")]),e._v(" "),r("base-button",{attrs:{type:"primary","native-type":"submit"},on:{click:function(t){return e.updateMercado()}}},[e._v("ACTUALIZAR")])],1)])]}}])})],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);